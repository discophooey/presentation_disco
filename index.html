<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Presentation Disco</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #0a0a0a; color: #e0e0e0; min-height: 100vh; }

#loginScreen { display: flex; align-items: center; justify-content: center; min-height: 100vh; background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%); }
.login-box { background: #1a1a1a; padding: 40px; border-radius: 12px; border: 1px solid #2a2a2a; text-align: center; }
.login-box h1 { font-size: 28px; color: #4a9eff; margin-bottom: 8px; }
.login-box p { color: #666; font-size: 13px; margin-bottom: 24px; }
.login-box input { width: 250px; padding: 12px 16px; background: #0a0a0a; border: 1px solid #333; color: #fff; border-radius: 6px; font-size: 14px; text-align: center; }
.login-box input:focus { outline: none; border-color: #4a9eff; }
.login-box button { width: 250px; padding: 12px; background: #4a9eff; border: none; color: #000; font-weight: 600; border-radius: 6px; cursor: pointer; font-size: 14px; margin-top: 12px; }
.login-box button:hover { background: #357abd; }
.login-error { color: #e74c3c; font-size: 12px; margin-top: 12px; display: none; }

#hubScreen { display: none; min-height: 100vh; padding: 40px 20px; }
.hub-header { max-width: 1200px; margin: 0 auto 40px; display: flex; justify-content: space-between; align-items: center; }
.hub-header h1 { font-size: 28px; color: #4a9eff; }
.hub-header button { padding: 8px 16px; background: #2a2a2a; border: none; color: #888; border-radius: 6px; cursor: pointer; font-size: 12px; }
.hub-header button:hover { background: #333; color: #fff; }

.landing-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; max-width: 1200px; margin: 0 auto; }
.module-card { background: #1a1a1a; border: 1px solid #2a2a2a; border-radius: 10px; padding: 24px; text-decoration: none; transition: all 0.2s; display: block; }
.module-card:hover { border-color: #4a9eff; transform: translateY(-3px); box-shadow: 0 10px 30px rgba(74, 158, 255, 0.1); }
.module-card-header { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
.module-card h3 { color: #4a9eff; font-size: 16px; margin: 0; }
.module-card p { color: #888; font-size: 13px; line-height: 1.5; }

.demo-btn { 
    background: #2a2a2a; 
    border: 1px solid #3a3a3a; 
    color: #888; 
    font-size: 10px; 
    padding: 4px 8px; 
    border-radius: 4px; 
    cursor: pointer; 
    font-weight: 500; 
    display: inline-flex; 
    align-items: center; 
    gap: 4px;
    transition: all 0.2s;
    text-decoration: none;
}
.demo-btn:hover { background: #3a3a3a; color: #fff; border-color: #4a4a4a; }
.demo-btn .play-icon { font-size: 8px; }

.section-title { max-width: 1200px; margin: 0 auto 20px; padding-top: 40px; border-top: 1px solid #2a2a2a; margin-top: 40px; color: #666; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; }
.section-title:first-of-type { border-top: none; margin-top: 0; padding-top: 0; }

/* Demo Modal */
.demo-modal { 
    display: none; 
    position: fixed; 
    inset: 0; 
    background: rgba(0,0,0,0.9); 
    z-index: 1000; 
    align-items: center; 
    justify-content: center;
    padding: 20px;
}
.demo-modal.active { display: flex; }
.demo-modal-content { 
    background: #1a1a1a; 
    border-radius: 12px; 
    width: 100%; 
    max-width: 500px; 
    max-height: 90vh;
    overflow: hidden;
    border: 1px solid #2a2a2a;
    box-shadow: 0 20px 60px rgba(0,0,0,0.5);
}
.demo-modal-header { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    padding: 16px 20px; 
    border-bottom: 1px solid #2a2a2a;
}
.demo-modal-header h3 { color: #4a9eff; font-size: 16px; margin: 0; }
.demo-modal-close { 
    background: #2a2a2a; 
    border: none; 
    color: #888; 
    width: 32px; 
    height: 32px; 
    border-radius: 6px; 
    cursor: pointer; 
    font-size: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.demo-modal-close:hover { background: #3a3a3a; color: #fff; }
.demo-modal-body { height: 400px; }
.demo-modal-body iframe { width: 100%; height: 100%; border: none; }
</style>
</head>
<body>

<div id="loginScreen">
    <div class="login-box">
        <h1>Presentation Disco</h1>
        <p>Scroll-driven storytelling modules</p>
        <input type="password" id="passwordInput" placeholder="Enter password" onkeypress="if(event.key==='Enter')checkPassword()">
        <button onclick="checkPassword()">Enter</button>
        <div class="login-error" id="loginError">Incorrect password</div>
    </div>
</div>

<div id="hubScreen">
    <div class="hub-header">
        <h1>Presentation Disco</h1>
        <button onclick="logout()">Logout</button>
    </div>
    
    <div class="section-title">Modules</div>
    <div class="landing-grid">
        <a href="before-after.html" class="module-card">
            <div class="module-card-header">
                <h3>Before/After</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('before-after-demo.html', 'Before/After')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>Scroll-driven comparison slider between two images with drag and scroll modes.</p>
        </a>
        <a href="card-stack.html" class="module-card">
            <div class="module-card-header">
                <h3>Card Stack</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('card-stack-demo.html', 'Card Stack')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>Stacked cards that fly away on scroll, revealing content beneath.</p>
        </a>
        <a href="chart.html" class="module-card">
            <div class="module-card-header">
                <h3>Chart</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('chart-demo.html', 'Chart')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>Scroll-driven bar and pie charts with staggered animations.</p>
        </a>
        <a href="collage.html" class="module-card">
            <div class="module-card-header">
                <h3>Collage</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('collage-demo.html', 'Collage')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>Multi-image grid layout with per-image positioning controls.</p>
        </a>
        <a href="doc-module.html" class="module-card">
            <div class="module-card-header">
                <h3>Doc Module</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('doc-module-demo.html', 'Doc Module')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>Document image with animated highlight bars that reveal on scroll. Blend modes and aspect ratio controls.</p>
        </a>
        <a href="gallery.html" class="module-card">
            <div class="module-card-header">
                <h3>Gallery</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('gallery-demo.html', 'Gallery')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>Scroll-driven image sequence with transitions and text overlays.</p>
        </a>
        <a href="globe.html" class="module-card">
            <div class="module-card-header">
                <h3>Globe</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('globe-demo.html', 'Globe')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>3D WebGL globe with animated location markers and connection lines.</p>
        </a>
        <a href="hotspots.html" class="module-card">
            <div class="module-card-header">
                <h3>Hotspots</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('hotspots-demo.html', 'Hotspots')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>Interactive annotation points that appear at scroll positions.</p>
        </a>
        <a href="layers.html" class="module-card">
            <div class="module-card-header">
                <h3>Layers</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('layers-demo.html', 'Layers')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>Multi-layer parallax compositions with various animation effects.</p>
        </a>
        <a href="matte.html" class="module-card">
            <div class="module-card-header">
                <h3>Matte</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('matte-demo.html', 'Matte')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>Text or image matte reveals with scroll-driven animation and background clipping.</p>
        </a>
        <a href="pull-quote.html" class="module-card">
            <div class="module-card-header">
                <h3>Pull Quote</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('pull-quote-demo.html', 'Pull Quote')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>Large-format text display with scroll-triggered reveal animations.</p>
        </a>
        <a href="single-image.html" class="module-card">
            <div class="module-card-header">
                <h3>Single Image</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('single-image-demo.html', 'Single Image')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>Hero images with scroll-driven effects like zoom, parallax, tilt.</p>
        </a>
        <a href="stat-counter.html" class="module-card">
            <div class="module-card-header">
                <h3>Stat Counter</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('stat-counter-demo.html', 'Stat Counter')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>Animated number counters that increment on scroll.</p>
        </a>
        <a href="timeline.html" class="module-card">
            <div class="module-card-header">
                <h3>Timeline</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('timeline-demo.html', 'Timeline')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>Vertical timeline with events that reveal on scroll.</p>
        </a>
        <a href="video.html" class="module-card">
            <div class="module-card-header">
                <h3>Video</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('video-demo.html', 'Video')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>Scroll-controlled video playback with text overlays.</p>
        </a>
        <a href="zoom-detail.html" class="module-card">
            <div class="module-card-header">
                <h3>Zoom Detail</h3>
                <button class="demo-btn" onclick="event.preventDefault(); openDemo('zoom-detail-demo.html', 'Zoom Detail')"><span class="play-icon">▶</span> demo</button>
            </div>
            <p>Progressive zoom into a specific image region on scroll.</p>
        </a>
    </div>
    
    <div class="section-title">Tools</div>
    <div class="landing-grid">
        <a href="stack-builder-clean.html" class="module-card"><h3>Stack Builder</h3><p>Combine multiple module exports into a single seamless scroll story.</p></a>
        <a href="story-planner.html" class="module-card"><h3>Presentation Planner</h3><p>Plan your scroll presentation structure, assign modules, and export content to modules.</p></a>
        <a href="coordinate-finder.html" class="module-card"><h3>Coordinate Finder</h3><p>Click a map to get lat/long coordinates for the Globe module.</p></a>
        <a href="responsive-preview.html" class="module-card"><h3>Responsive Preview</h3><p>Test module code at different screen sizes before embedding.</p></a>
    </div>
</div>

<!-- Demo Modal -->
<div class="demo-modal" id="demoModal">
    <div class="demo-modal-content">
        <div class="demo-modal-header">
            <h3 id="demoTitle">Demo</h3>
            <button class="demo-modal-close" onclick="closeDemo()">✕</button>
        </div>
        <div class="demo-modal-body">
            <iframe id="demoIframe" src=""></iframe>
        </div>
    </div>
</div>

<script>
const PASS_HASH = '44c7be8469ab4904ff80ba58bdcf860c';

function md5(s){function L(k,d){return(k<<d)|(k>>>(32-d))}function K(G,k){var I,d,F,H,x;F=(G&2147483648);H=(k&2147483648);I=(G&1073741824);d=(k&1073741824);x=(G&1073741823)+(k&1073741823);if(I&d){return(x^2147483648^F^H)}if(I|d){if(x&1073741824){return(x^3221225472^F^H)}else{return(x^1073741824^F^H)}}else{return(x^F^H)}}function r(d,F,k){return(d&F)|((~d)&k)}function q(d,F,k){return(d&k)|(F&(~k))}function p(d,F,k){return(d^F^k)}function n(d,F,k){return(F^(d|(~k)))}function u(G,F,aa,Z,k,H,I){G=K(G,K(K(r(F,aa,Z),k),I));return K(L(G,H),F)}function f(G,F,aa,Z,k,H,I){G=K(G,K(K(q(F,aa,Z),k),I));return K(L(G,H),F)}function D(G,F,aa,Z,k,H,I){G=K(G,K(K(p(F,aa,Z),k),I));return K(L(G,H),F)}function t(G,F,aa,Z,k,H,I){G=K(G,K(K(n(F,aa,Z),k),I));return K(L(G,H),F)}function e(G){var Z;var F=G.length;var x=F+8;var k=(x-(x%64))/64;var I=(k+1)*16;var aa=Array(I-1);var d=0;var H=0;while(H<F){Z=(H-(H%4))/4;d=(H%4)*8;aa[Z]=(aa[Z]|(G.charCodeAt(H)<<d));H++}Z=(H-(H%4))/4;d=(H%4)*8;aa[Z]=aa[Z]|(128<<d);aa[I-2]=F<<3;aa[I-1]=F>>>29;return aa}function B(x){var k="",F="",G,d;for(d=0;d<=3;d++){G=(x>>>(d*8))&255;F="0"+G.toString(16);k=k+F.substr(F.length-2,2)}return k}function J(k){k=k.replace(/\r\n/g,"\n");var d="";for(var F=0;F<k.length;F++){var x=k.charCodeAt(F);if(x<128){d+=String.fromCharCode(x)}else{if((x>127)&&(x<2048)){d+=String.fromCharCode((x>>6)|192);d+=String.fromCharCode((x&63)|128)}else{d+=String.fromCharCode((x>>12)|224);d+=String.fromCharCode(((x>>6)&63)|128);d+=String.fromCharCode((x&63)|128)}}}return d}var C=Array();var P,h,E,v,g,Y,X,W,V;var S=7,Q=12,N=17,M=22;var A=5,z=9,y=14,w=20;var o=4,m=11,l=16,j=23;var U=6,T=10,R=15,O=21;s=J(s);C=e(s);Y=1732584193;X=4023233417;W=2562383102;V=271733878;for(P=0;P<C.length;P+=16){h=Y;E=X;v=W;g=V;Y=u(Y,X,W,V,C[P+0],S,3614090360);V=u(V,Y,X,W,C[P+1],Q,3905402710);W=u(W,V,Y,X,C[P+2],N,606105819);X=u(X,W,V,Y,C[P+3],M,3250441966);Y=u(Y,X,W,V,C[P+4],S,4118548399);V=u(V,Y,X,W,C[P+5],Q,1200080426);W=u(W,V,Y,X,C[P+6],N,2821735955);X=u(X,W,V,Y,C[P+7],M,4249261313);Y=u(Y,X,W,V,C[P+8],S,1770035416);V=u(V,Y,X,W,C[P+9],Q,2336552879);W=u(W,V,Y,X,C[P+10],N,4294925233);X=u(X,W,V,Y,C[P+11],M,2304563134);Y=u(Y,X,W,V,C[P+12],S,1804603682);V=u(V,Y,X,W,C[P+13],Q,4254626195);W=u(W,V,Y,X,C[P+14],N,2792965006);X=u(X,W,V,Y,C[P+15],M,1236535329);Y=f(Y,X,W,V,C[P+1],A,4129170786);V=f(V,Y,X,W,C[P+6],z,3225465664);W=f(W,V,Y,X,C[P+11],y,643717713);X=f(X,W,V,Y,C[P+0],w,3921069994);Y=f(Y,X,W,V,C[P+5],A,3593408605);V=f(V,Y,X,W,C[P+10],z,38016083);W=f(W,V,Y,X,C[P+15],y,3634488961);X=f(X,W,V,Y,C[P+4],w,3889429448);Y=f(Y,X,W,V,C[P+9],A,568446438);V=f(V,Y,X,W,C[P+14],z,3275163606);W=f(W,V,Y,X,C[P+3],y,4107603335);X=f(X,W,V,Y,C[P+8],w,1163531501);Y=f(Y,X,W,V,C[P+13],A,2850285829);V=f(V,Y,X,W,C[P+2],z,4243563512);W=f(W,V,Y,X,C[P+7],y,1735328473);X=f(X,W,V,Y,C[P+12],w,2368359562);Y=D(Y,X,W,V,C[P+5],o,4294588738);V=D(V,Y,X,W,C[P+8],m,2272392833);W=D(W,V,Y,X,C[P+11],l,1839030562);X=D(X,W,V,Y,C[P+14],j,4259657740);Y=D(Y,X,W,V,C[P+1],o,2763975236);V=D(V,Y,X,W,C[P+4],m,1272893353);W=D(W,V,Y,X,C[P+7],l,4139469664);X=D(X,W,V,Y,C[P+10],j,3200236656);Y=D(Y,X,W,V,C[P+13],o,681279174);V=D(V,Y,X,W,C[P+0],m,3936430074);W=D(W,V,Y,X,C[P+3],l,3572445317);X=D(X,W,V,Y,C[P+6],j,76029189);Y=D(Y,X,W,V,C[P+9],o,3654602809);V=D(V,Y,X,W,C[P+12],m,3873151461);W=D(W,V,Y,X,C[P+15],l,530742520);X=D(X,W,V,Y,C[P+2],j,3299628645);Y=t(Y,X,W,V,C[P+0],U,4096336452);V=t(V,Y,X,W,C[P+7],T,1126891415);W=t(W,V,Y,X,C[P+14],R,2878612391);X=t(X,W,V,Y,C[P+5],O,4237533241);Y=t(Y,X,W,V,C[P+12],U,1700485571);V=t(V,Y,X,W,C[P+3],T,2399980690);W=t(W,V,Y,X,C[P+10],R,4293915773);X=t(X,W,V,Y,C[P+1],O,2240044497);Y=t(Y,X,W,V,C[P+8],U,1873313359);V=t(V,Y,X,W,C[P+15],T,4264355552);W=t(W,V,Y,X,C[P+6],R,2734768916);X=t(X,W,V,Y,C[P+13],O,1309151649);Y=t(Y,X,W,V,C[P+4],U,4149444226);V=t(V,Y,X,W,C[P+11],T,3174756917);W=t(W,V,Y,X,C[P+2],R,718787259);X=t(X,W,V,Y,C[P+9],O,3951481745);Y=K(Y,h);X=K(X,E);W=K(W,v);V=K(V,g)}return(B(Y)+B(X)+B(W)+B(V)).toLowerCase()}

function checkPassword() {
    const input = document.getElementById('passwordInput').value;
    if (md5(input) === PASS_HASH) {
        sessionStorage.setItem('disco_auth', '1');
        document.getElementById('loginScreen').style.display = 'none';
        document.getElementById('hubScreen').style.display = 'block';
    } else {
        document.getElementById('loginError').style.display = 'block';
        document.getElementById('passwordInput').value = '';
    }
}

function logout() {
    if (confirm('Log out and clear all saved module data?\n\nThis will reset all modules to defaults.')) {
        // Clear all disco_ localStorage keys
        Object.keys(localStorage).forEach(key => {
            if (key.startsWith('disco_')) {
                localStorage.removeItem(key);
            }
        });
        sessionStorage.removeItem('disco_auth');
        location.reload();
    }
}

function openDemo(demoFile, title) {
    document.getElementById('demoTitle').textContent = title + ' Demo';
    document.getElementById('demoIframe').src = 'demos/' + demoFile;
    document.getElementById('demoModal').classList.add('active');
    document.body.style.overflow = 'hidden';
}

function closeDemo() {
    document.getElementById('demoModal').classList.remove('active');
    document.getElementById('demoIframe').src = '';
    document.body.style.overflow = '';
}

// Close modal on escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') closeDemo();
});

// Close modal on backdrop click
document.getElementById('demoModal').addEventListener('click', function(e) {
    if (e.target === this) closeDemo();
});

if (sessionStorage.getItem('disco_auth') === '1') {
    document.getElementById('loginScreen').style.display = 'none';
    document.getElementById('hubScreen').style.display = 'block';
}

document.getElementById('passwordInput').focus();
</script>
</body>
</html>
